<h1>レシピ一覧</h1>

<h2>新規レシピ投稿</h2>

<% if @recipe.errors.any? %>
  <div style="color: red;">
    <ul>
      <% @recipe.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with model: @recipe, local: true do |f| %>
  <p>
    <%= f.label :title, "レシピタイトル" %><br>
    <%= f.text_field :title %>
  </p>

  <p>
    <%= f.label :description, "手順・説明文" %><br>
    <%= f.text_area :description %>
  </p>

  <p>
    <%= f.label :image, "画像" %><br>
    <%= f.file_field :image %>
  </p>

  <p><%= f.submit "投稿する" %></p>
<% end %>

<hr>

<h2>投稿済みレシピ</h2>
<% @recipes.each do |recipe| %>
  <%= render partial: 'recipe', collection: @recipes, as: :recipe %>
<% end %>
